"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[630],{3905:(e,a,o)=>{o.d(a,{Zo:()=>l,kt:()=>k});var t=o(7294);function r(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function n(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.push.apply(o,t)}return o}function s(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?n(Object(o),!0).forEach((function(a){r(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}function i(e,a){if(null==e)return{};var o,t,r=function(e,a){if(null==e)return{};var o,t,r={},n=Object.keys(e);for(t=0;t<n.length;t++)o=n[t],a.indexOf(o)>=0||(r[o]=e[o]);return r}(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)o=n[t],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var p=t.createContext({}),m=function(e){var a=t.useContext(p),o=a;return e&&(o="function"==typeof e?e(a):s(s({},a),e)),o},l=function(e){var a=m(e.components);return t.createElement(p.Provider,{value:a},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var o=e.components,r=e.mdxType,n=e.originalType,p=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),d=m(o),u=r,k=d["".concat(p,".").concat(u)]||d[u]||c[u]||n;return o?t.createElement(k,s(s({ref:a},l),{},{components:o})):t.createElement(k,s({ref:a},l))}));function k(e,a){var o=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var n=o.length,s=new Array(n);s[0]=u;var i={};for(var p in a)hasOwnProperty.call(a,p)&&(i[p]=a[p]);i.originalType=e,i[d]="string"==typeof e?e:r,s[1]=i;for(var m=2;m<n;m++)s[m]=o[m];return t.createElement.apply(null,s)}return t.createElement.apply(null,o)}u.displayName="MDXCreateElement"},3991:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>p,contentTitle:()=>s,default:()=>c,frontMatter:()=>n,metadata:()=>i,toc:()=>m});var t=o(7462),r=(o(7294),o(3905));const n={},s="Burger Queen - API com Node.js",i={unversionedId:"burger-queen-api/README",id:"burger-queen-api/README",title:"Burger Queen - API com Node.js",description:"\xcdndice",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/04-burger-queen-api/README.md",sourceDirName:"04-burger-queen-api",slug:"/burger-queen-api/",permalink:"/bootcamp/pt/docs/burger-queen-api/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/04-burger-queen-api/README.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Translate your site",permalink:"/bootcamp/pt/docs/tutorial-extras/translate-your-site"},next:{title:"Primeiros passos",permalink:"/bootcamp/pt/docs/burger-queen-api/guides/GETTING-STARTED-DOCKER"}},p={},m=[{value:"\xcdndice",id:"\xedndice",level:2},{value:"1. Pref\xe1cio",id:"1-pref\xe1cio",level:2},{value:"2. Resumo do projeto",id:"2-resumo-do-projeto",level:2},{value:"3. Objetivos de aprendizagem",id:"3-objetivos-de-aprendizagem",level:2},{value:"4. Considera\xe7\xf5es gerais",id:"4-considera\xe7\xf5es-gerais",level:2},{value:"5. Crit\xe9rios de aceita\xe7\xe3o m\xednimos do projeto",id:"5-crit\xe9rios-de-aceita\xe7\xe3o-m\xednimos-do-projeto",level:2},{value:"5.1 API",id:"51-api",level:3},{value:"5.1,1 <code>/</code>",id:"511-",level:4},{value:"5.1.2 <code>/auth</code>",id:"512-auth",level:4},{value:"5.1.3 <code>/users</code>",id:"513-users",level:4},{value:"5.1.4 <code>/products</code>",id:"514-products",level:4},{value:"5.1.5 <code>/orders</code>",id:"515-orders",level:4},{value:"5.2 CLI",id:"52-cli",level:3},{value:"5.2.1 Argumentos de linha de comando",id:"521-argumentos-de-linha-de-comando",level:4},{value:"5.2.2 Vari\xe1veis de ambiente",id:"522-vari\xe1veis-de-ambiente",level:4},{value:"5.3 Implanta\xe7\xe3o (Deployment)",id:"53-implanta\xe7\xe3o-deployment",level:3},{value:"6. Edi\xe7\xe3o Hacker (DevOps) com Docker",id:"6-edi\xe7\xe3o-hacker-devops-com-docker",level:2},{value:"7. Pistas, tips e leituras complementares",id:"7-pistas-tips-e-leituras-complementares",level:2}],l={toc:m},d="wrapper";function c(e){let{components:a,...o}=e;return(0,r.kt)(d,(0,t.Z)({},l,o,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"burger-queen---api-com-nodejs"},"Burger Queen - API com Node.js"),(0,r.kt)("h2",{id:"\xedndice"},"\xcdndice"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#1-pref%C3%A1cio"},"1. Pref\xe1cio")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#2-resumo-do-projeto"},"2. Resumo do projeto")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#3-objetivos-de-aprendizagem"},"3. Objetivos de aprendizagem")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#4-considera%C3%A7%C3%B5es-gerais"},"4. Considera\xe7\xf5es gerais")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#5-crit%C3%A9rios-de-aceita%C3%A7%C3%A3o-m%C3%ADnimos-do-projeto"},"5. Crit\xe9rios de aceita\xe7\xe3o m\xednimos do projeto")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#6-edi%C3%A7%C3%A3o-hacker-devops-com-docker"},"6. Hacker (Devops) Edition con Docker")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#7-pistas-tips-e-leituras-complementares"},"7. Pistas, tips e leituras complementares"))),(0,r.kt)("h2",{id:"1-pref\xe1cio"},"1. Pref\xe1cio"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://nodejs.org/static/images/logos/nodejs-new-pantone-black.svg",alt:"Node.js logo"})),(0,r.kt)("p",null,"Um pequeno restaurante de hamburgueres, que est\xe1 crescendo, necessita de um\nsistema para realizar pedidos usando um ",(0,r.kt)("em",{parentName:"p"},"tablet"),", e que os enviem \xe0\ncozinha para que sejam preparados de forma ordenada e eficiente."),(0,r.kt)("p",null,"Este projeto tem duas \xe1reas: interface (cliente) e API (servidor). Nosso\ncliente nos solicitou que desenvolv\xeassemos uma API que pode integrar com a\ninterface, que outra equipe de desenvolvedores est\xe1 trabalhando\nsimultaneamente"),(0,r.kt)("h2",{id:"2-resumo-do-projeto"},"2. Resumo do projeto"),(0,r.kt)("p",null,"Como API, nesse caso nos referimos a um ",(0,r.kt)("em",{parentName:"p"},"servidor web"),", que \xe9 basicamente\num programa que ",(0,r.kt)("em",{parentName:"p"},"ouve")," o que acontece na aplica\xe7\xe3o atrav\xe9s de uma porta de rede,\npela qual podemos enviar ",(0,r.kt)("em",{parentName:"p"},"requisi\xe7\xf5es")," (",(0,r.kt)("em",{parentName:"p"},"requests"),") e obter ",(0,r.kt)("em",{parentName:"p"},"respostas")," (",(0,r.kt)("em",{parentName:"p"},"responses"),")\nusando o protocolo HTTP (o HTTPS)."),(0,r.kt)("p",null,"Um servidor web deve ",(0,r.kt)("em",{parentName:"p"},"lidar")," com as requisi\xe7\xf5es que chegam e devolver respostas,\nque ser\xe3o enviadas de volta ao ",(0,r.kt)("em",{parentName:"p"},"cliente"),". Quando falamos de ",(0,r.kt)("em",{parentName:"p"},"aplica\xe7\xf5es de servidor"),",\nisso implica uma arquitetura de ",(0,r.kt)("em",{parentName:"p"},"cliente/servidor"),", onde o cliente \xe9 um programa\nque faz requisi\xe7\xf5es atrav\xe9s de uma rede (por exemplo o navegador, o cURL, etc)\ne o servidor \xe9 o programa que recebe essas requisi\xe7\xf5es e as responde."),(0,r.kt)("p",null,"O ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/"},"Node.js")," nos permite criar servidores web super eficientes\nde maneira relativamente simples, tudo isso usando JavaScript!"),(0,r.kt)("p",null,"Neste projeto partimos de um ",(0,r.kt)("em",{parentName:"p"},"boilerplate")," que j\xe1 cont\xe9m uma s\xe9rie de\n",(0,r.kt)("em",{parentName:"p"},"endpoints")," (pontos de conex\xe3o ou URLs) e nos pedem para completar a aplica\xe7\xe3o.\nIsso implica que teremos que come\xe7ar lendo a implementa\xe7\xe3o existente e nos\nfamiliarizar com o ",(0,r.kt)("em",{parentName:"p"},"stack")," escolhido (",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/"},"Node.js")," e\n",(0,r.kt)("a",{parentName:"p",href:"https://expressjs.com/"},"Express"),"), al\xe9m de complement\xe1-lo com um motor de\nbanco de dados. Recomendamos o uso do ",(0,r.kt)("a",{parentName:"p",href:"https://www.mongodb.com/"},"MongoDB"),"\ne temos ",(0,r.kt)("a",{parentName:"p",href:"./guides/GETTING-STARTED-MONGO-DB.pt.md"},"um guia para come\xe7ar com o MongoDB.")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.mongodb.com/"},"MongoDB"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://www.postgresql.org/"},"PostgreSQL")," e ",(0,r.kt)("a",{parentName:"p",href:"https://www.mysql.com/"},"MySQL"),"."),(0,r.kt)("p",null,"O cliente nos deu um\n",(0,r.kt)("a",{parentName:"p",href:"https://app.swaggerhub.com/apis-docs/ssinuco/BurgerQueenAPI/2.0.0"},"link"),"\npara a documenta\xe7\xe3o que especifica o comportamento esperado da API que\niremos expor por HTTP.\nL\xe1 podemos encontrar todos os detalhes que os ",(0,r.kt)("em",{parentName:"p"},"endpoints")," deve\nimplementar na aplica\xe7\xe3o, que par\xe2metros esperam, o que devem responder, etc."),(0,r.kt)("p",null,"O objetivo de aprendizagem principal \xe9 adquirir experi\xeancia com o ",(0,r.kt)("strong",{parentName:"p"},"Node.js"),"\ncomo ferramenta para desenvolvimento de ",(0,r.kt)("em",{parentName:"p"},"aplica\xe7\xf5es de servidor"),", junto com uma s\xe9rie\nde outras ferramentas comumente utilizadas nesse contexto (Express como\nframework, MongoDB como base de dados, etc.)."),(0,r.kt)("p",null,"Neste projeto, voc\xea desenvolver\xe1 um servidor web que dever\xe1 ",(0,r.kt)("em",{parentName:"p"},"servir")," ",(0,r.kt)("inlineCode",{parentName:"p"},"JSON"),"\natrav\xe9s de uma conex\xe3o ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTP"),", e implant\xe1-lo em um servidor na nuvem."),(0,r.kt)("p",null,"Ao final do projeto, voc\xea dever\xe1 estar familiarizada com conceitos como ",(0,r.kt)("strong",{parentName:"p"},"rotas"),"\n(",(0,r.kt)("em",{parentName:"p"},"routes"),"), ",(0,r.kt)("strong",{parentName:"p"},"URLs"),", ",(0,r.kt)("strong",{parentName:"p"},"HTTP")," (verbos, request, response, headers, body, status\ncodes, etc), ",(0,r.kt)("strong",{parentName:"p"},"JSON"),", ",(0,r.kt)("strong",{parentName:"p"},"JWT")," (",(0,r.kt)("em",{parentName:"p"},"JSON Web Tokens"),"), ",(0,r.kt)("strong",{parentName:"p"},"conex\xe3o com uma base de dados"),"\n(",(0,r.kt)("inlineCode",{parentName:"p"},"MongoDB"),"), ",(0,r.kt)("strong",{parentName:"p"},"variables de ambiente"),", ",(0,r.kt)("strong",{parentName:"p"},"deployment"),", etc."),(0,r.kt)("h2",{id:"3-objetivos-de-aprendizagem"},"3. Objetivos de aprendizagem"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u2139\ufe0f Esta se\xe7\xe3o ser\xe1 automaticamente gerada no idioma pertinente, a partir dos\nobjetivos de aprendizagem declarados em ",(0,r.kt)("a",{parentName:"p",href:"./project.yml"},(0,r.kt)("inlineCode",{parentName:"a"},"project.yml")),", ao\ncriar o reposit\xf3rio do projeto para uma coorte em particular usando\n",(0,r.kt)("a",{parentName:"p",href:"../../scripts#create-cohort-project-coaches"},(0,r.kt)("inlineCode",{parentName:"a"},"./scripts/create-cohort-project.js")),"."),(0,r.kt)("p",{parentName:"blockquote"},"Aqui voc\xea pode ver uma ",(0,r.kt)("a",{parentName:"p",href:"../../learning-objectives/data.yml"},"lista de todos os objetivos de aprendizagem"),"\ncobertos em nosso curr\xedculo.")),(0,r.kt)("h2",{id:"4-considera\xe7\xf5es-gerais"},"4. Considera\xe7\xf5es gerais"),(0,r.kt)("p",null,"Este projeto ser\xe1 realizado em duplas e pode estar integrado com o projeto\n",(0,r.kt)("a",{parentName:"p",href:"../04-burger-queen-api-client"},"Burger Queen API client"),"\nque a equipe de Frontend developers do seu squad desenvolve simultaneamente."),(0,r.kt)("p",null,"A l\xf3gica do projeto deve estar implementada totalmente em JavaScript (ES6).\nNeste projeto est\xe1 permitido usar bibliotecas ou frameworks, assim como\nextens\xf5es para a linguagem com ",(0,r.kt)("inlineCode",{parentName:"p"},"babel")," (neste caso voc\xea incluir um\ncomando ",(0,r.kt)("inlineCode",{parentName:"p"},"npm build"),")."),(0,r.kt)("p",null,"Os testes deven cobrir um m\xednimo de 90% de ",(0,r.kt)("em",{parentName:"p"},"statements"),", ",(0,r.kt)("em",{parentName:"p"},"functions"),",\n",(0,r.kt)("em",{parentName:"p"},"lines")," e ",(0,r.kt)("em",{parentName:"p"},"branches"),". Embora o boilerplate n\xe3o inclua as configura\xe7\xf5es para\ntestes unit\xe1rios, estes s\xe3o obrigat\xf3rios."),(0,r.kt)("p",null,"Outro requisito da equipe de QA do nosso cliente \xe9 realizar\n",(0,r.kt)("strong",{parentName:"p"},"testes ",(0,r.kt)("em",{parentName:"strong"},"end-to-end")),", que usaremos para verificar o comportamento desde o\nponto de vista de HTTP, desde fora do servidor. Estes testes, diferente dos\ntestes unitarios, n\xe3o testam cada parte separadamente, mas testam a\naplica\xe7\xe3o completa, do princ\xedpio ao fim. Esses testes, por n\xe3o fazerem uso direto\ndo c\xf3digo-fonte da aplica\xe7\xe3o, podem ser executados diretamente em uma URL\nremota, pois a interface em teste \xe9 HTTP."),(0,r.kt)("p",null,"O ",(0,r.kt)("em",{parentName:"p"},"boilerplate")," j\xe1 cont\xe9m o setup e configura\xe7\xe3o\nnecess\xe1ria para executar todos os tests ",(0,r.kt)("em",{parentName:"p"},"end-to-end")," com o comando ",(0,r.kt)("inlineCode",{parentName:"p"},"npm run test:e2e"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"# Execute testes e2e na inst\xe2ncia local. Isso levanta a aplica\xe7\xe3o com npm\n# start e execute os tests na URL desta instancia (por padr\xe3o\n# http://127.0.0.1:8080).\nnpm run test:e2e\n\n# Execute testes e2e em URL remoto\nREMOTE_URL=<TODO: colocar URL> npm run test:e2e\n")),(0,r.kt)("p",null,"Os testes ",(0,r.kt)("em",{parentName:"p"},"end-to-end")," j\xe1 est\xe3o concluidos no ",(0,r.kt)("em",{parentName:"p"},"boilerplate"),", ent\xe3o pode\nus\xe1-los como um guia de implementa\xe7\xe3o e lista de verifica\xe7\xe3o de integridade."),(0,r.kt)("h2",{id:"5-crit\xe9rios-de-aceita\xe7\xe3o-m\xednimos-do-projeto"},"5. Crit\xe9rios de aceita\xe7\xe3o m\xednimos do projeto"),(0,r.kt)("h3",{id:"51-api"},"5.1 API"),(0,r.kt)("p",null,"Conforme estabelecido pela\n",(0,r.kt)("a",{parentName:"p",href:"https://app.swaggerhub.com/apis-docs/ssinuco/BurgerQueenAPI/2.0.0"},"documenta\xe7\xe3o"),"\nentregue pelo nosso cliente, a API deve expor os seguintes endpoints:"),(0,r.kt)("h4",{id:"511-"},"5.1,1 ",(0,r.kt)("inlineCode",{parentName:"h4"},"/")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /"))),(0,r.kt)("h4",{id:"512-auth"},"5.1.2 ",(0,r.kt)("inlineCode",{parentName:"h4"},"/auth")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"POST /auth"))),(0,r.kt)("h4",{id:"513-users"},"5.1.3 ",(0,r.kt)("inlineCode",{parentName:"h4"},"/users")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /users")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /users/:uid")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"POST /users")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PATCH /users/:uid")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DELETE /users/:uid"))),(0,r.kt)("h4",{id:"514-products"},"5.1.4 ",(0,r.kt)("inlineCode",{parentName:"h4"},"/products")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /products")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /products/:productid")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"POST /products")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PATCH /products/:productid")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DELETE /products/:productid"))),(0,r.kt)("h4",{id:"515-orders"},"5.1.5 ",(0,r.kt)("inlineCode",{parentName:"h4"},"/orders")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /orders")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GET /orders/:orderId")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"POST /orders")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PATCH /orders/:orderId")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DELETE /orders/:orderId"))),(0,r.kt)("h3",{id:"52-cli"},"5.2 CLI"),(0,r.kt)("p",null,"O cliente solicitou que a aplica\xe7\xe3o tenha um comando ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"npm start")),"\nque deve ser respons\xe1vel por executar nossa aplica\xe7\xe3o node e que tamb\xe9m possa\nreceber informa\xe7\xf5es de configura\xe7\xe3o, como a porta a ser escutada, qual\nbanco de dados conectar, etc. Esses dados de configura\xe7\xe3o ser\xe3o distintos entre os\ndiferentes ambientes (desenvolvimento, produ\xe7\xe3o, ...). O ",(0,r.kt)("em",{parentName:"p"},"boilerplate")," j\xe1 implementa\n",(0,r.kt)("a",{parentName:"p",href:"config.js"},"o c\xf3digo necess\xe1rio")," para ler esta informa\xe7\xe3o dos\n",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/docs/latest/api/process.html#process_process_argv"},"argumentos de invoca\xe7\xe3o"),"\ne o\n",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/docs/latest/api/process.html#process_process_env"},"ambiente"),"."),(0,r.kt)("h4",{id:"521-argumentos-de-linha-de-comando"},"5.2.1 Argumentos de linha de comando"),(0,r.kt)("p",null,"Podemos especificar a porta onde a aplica\xe7\xe3o deve iniciar, passando um argumento\nao invocar nosso programa:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"# Inicia a aplica\xe7\xe3o na porta 8888 usando npm\nnpm start 8888\n")),(0,r.kt)("h4",{id:"522-vari\xe1veis-de-ambiente"},"5.2.2 Vari\xe1veis de ambiente"),(0,r.kt)("p",null,"Nossa aplica\xe7\xe3o usa as seguintes vari\xe1veis de ambiente:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PORT"),": Se nenhuma porta for especificada como argumento da linha de comando\npodemos usar a variable de ambiente ",(0,r.kt)("inlineCode",{parentName:"li"},"PORT")," para especificar a porta. Valor\npor padr\xe3o ",(0,r.kt)("inlineCode",{parentName:"li"},"8080"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DB_URL"),": A ",(0,r.kt)("em",{parentName:"li"},"string")," de conex\xe3o de ",(0,r.kt)("em",{parentName:"li"},"MongoDB"),", ",(0,r.kt)("em",{parentName:"li"},"PostgreSQL")," ou ",(0,r.kt)("em",{parentName:"li"},"MySQL"),". Quando\nexecutemos a aplica\xe7\xe3o em nosso computador (em ambiente de desenvolvimento),\npodemos usar um banco de dados local, mas em produ\xe7\xe3o deveremos usar as\ninst\xe2ncias configuradas com ",(0,r.kt)("inlineCode",{parentName:"li"},"docker-compose")," (mais sobre isso na se\xe7\xe3o de\n",(0,r.kt)("strong",{parentName:"li"},"Deployment"),")."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"JWT_SECRET"),": Nossa aplica\xe7\xe3o implementa autentica\xe7\xe3o usando JWT (JSON\nWeb Tokens). Para assinar (criptografar) e verificar (descriptografar) os tokens,\nnossa aplica\xe7\xe3o precisa de um segredo. Localmente, pode usar o valor\npadr\xe3o (",(0,r.kt)("inlineCode",{parentName:"li"},"xxxxxxxx"),"), mas \xe9 muito importante usar um ",(0,r.kt)("em",{parentName:"li"},"segredo")," real\nna produc\xe7\xe3o."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ADMIN_EMAIL"),": Opcionalmente podemos especificar um email e password para\no usuario admin (root). Se esses detalhes estiverem presentes, a aplica\xe7\xe3o se\ncertificar\xe1 que exista o usu\xe1rio e que tenha permiss\xf5es de administrador. Valor\npor padr\xe3o ",(0,r.kt)("inlineCode",{parentName:"li"},"admin@localhost"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ADMIN_PASSWORD"),": Se for especificado um ",(0,r.kt)("inlineCode",{parentName:"li"},"ADMIN_EMAIL"),", devemos passar\ntamb\xe9m uma senha para o usu\xe1rio admin. Valor por padr\xe3o: ",(0,r.kt)("inlineCode",{parentName:"li"},"changeme"),".")),(0,r.kt)("h3",{id:"53-implanta\xe7\xe3o-deployment"},"5.3 Implanta\xe7\xe3o (Deployment)"),(0,r.kt)("p",null,"Voc\xea pode escolher o provedor (ou provedores) que preferir,\njuntamente com o mecanismo de implanta\xe7\xe3o e estrat\xe9gia de hospedagem.\nRecomendamos que voc\xea explore as seguintes op\xe7\xf5es:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://vercel.com/"},"Vercel")," \xe9 uma op\xe7\xe3o focada em aplicativos\nda web est\xe1ticos (como os constru\xeddos com React). No entanto,\no Vercel tamb\xe9m nos permite implantar aplicativos node usando\n",(0,r.kt)("a",{parentName:"li",href:"https://vercel.com/docs/serverless-functions/introduction"},"Serverless Functions"),(0,r.kt)("a",{parentName:"li",href:"https://www.mongodb.com/cloud/atlas"},"MongoDB Atlas"),"\n\xe9 uma \xf3tima op\xe7\xe3o para hospedar nosso banco de dados de produ\xe7\xe3o,\nque pode ser usado em conjunto com qualquer uma das op\xe7\xf5es mencionadas acima.")),(0,r.kt)("p",null,"Se tiver d\xfavidas sobre as diferentes op\xe7\xf5es de implanta\xe7\xe3o (que s\xe3o v\xe1rias),\nn\xe3o hesite em consultar seus colegas e seus coaches."),(0,r.kt)("h2",{id:"6-edi\xe7\xe3o-hacker-devops-com-docker"},"6. Edi\xe7\xe3o Hacker (DevOps) com Docker"),(0,r.kt)("p",null,"Nossa cliente nos informou que sua equipe de DevOps est\xe1 sempre\nocupada com muitas tarefas, portanto, ela nos pede como requisito que\no aplicativo seja configurado com ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose")," para que possa ser\nimplantado facilmente em qualquer ambiente."),(0,r.kt)("p",null,"O boilerplate j\xe1 possui uma configura\xe7\xe3o inicial de ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose"),"\npara o aplicativo Node.js, sua tarefa ser\xe1 estender essa configura\xe7\xe3o para\nincluir a configura\xe7\xe3o do banco de dados. Tenha em mente que,\ncomo voc\xea ter\xe1 dois servidores sendo executados na mesma configura\xe7\xe3o,\nvoc\xea precisar\xe1 expor os servi\xe7os em portas diferentes."),(0,r.kt)("p",null,"Leia o ",(0,r.kt)("a",{parentName:"p",href:"./guides/GETTING-STARTED-DOCKER.pt.md"},"guia para docker")," inclu\xeddo\nno projeto para mais informa\xe7\xf5es."),(0,r.kt)("p",null,"Para testar sua configura\xe7\xe3o do Docker, recomendamos que voc\xea use o\n",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose")," localmente (em seu computador) para executar o\naplicativo junto com o banco de dados."),(0,r.kt)("p",null,"Quanto \xe0 implanta\xe7\xe3o, voc\xea pode escolher o provedor (ou provedores)\nque preferir, juntamente com o mecanismo de implanta\xe7\xe3o e estrat\xe9gia\nde hospedagem. Recomendamos que voc\xea explore as seguintes op\xe7\xf5es:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Se quiser explorar op\xe7\xf5es mais personalizadas e ver o docker do lado do\nservidor, pode considerar provedores como\n",(0,r.kt)("a",{parentName:"li",href:"https://aws.amazon.com/"},"AWS (Amazon Web Services)")," ou\n",(0,r.kt)("a",{parentName:"li",href:"https://cloud.google.com/"},"GCP (Google Cloud Platform)"),", ambos possuem algum tipo\nde servi\xe7o experimental gratuito (",(0,r.kt)("em",{parentName:"li"},"free tier"),") assim como inst\xe2ncias de servidores\nvirtuais (VPS), onde configuramos nosso pr\xf3prio Docker ou servi\xe7os para implantar\naplica\xe7\xf5es em cont\xeaineres (por exemplo ",(0,r.kt)("a",{parentName:"li",href:"https://cloud.google.com/compute/docs/containers"},"Compute Engine"),"\nde GCP ou ",(0,r.kt)("a",{parentName:"li",href:"https://aws.amazon.com/ecs/"},"Elastic Container Service")," de AWS).")),(0,r.kt)("h2",{id:"7-pistas-tips-e-leituras-complementares"},"7. Pistas, tips e leituras complementares"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://expressjs.com/"},"Express")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.mongodb.com/"},"MongoDB")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.mongodb.com/docs/drivers/node/current/"},"MongoDB Node Driver")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.docker.com/"},"docker")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.docker.com/compose/"},"docker compose")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.getpostman.com"},"Postman")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pt.wikipedia.org/wiki/Vari%C3%A1vel_de_ambiente"},"Vari\xe1vel de ambiente - Wikipedia")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/api/process.html#process_process_env"},(0,r.kt)("inlineCode",{parentName:"a"},"process.env")," - Node.js docs"))))}c.isMDXComponent=!0}}]);